for(i in unique(final$codigo_estacao)) {
if(nrow(subset(final, final$codigo_estacao==i))<36) {
for(j in setdiff(1:36,subset(final, final$codigo_estacao==i)$intervalo)) {
linha <- data.frame("codigo_estacao" = i, "intervalo" = j, "chuva" = NA)
linha$codigo_estacao <- as.character(linha$codigo_estacao)
final <- rbind(as.data.frame(final), linha)
}
}
}
estacoesCodigo <- c("A726", "A739", "A744", "A701", "A755", "A713", "A711", "A715", "A771", "A738", "A765", "A706", "A530", "A728")
centros$codigo_estacao <- estacoesCodigo
final <- final %>% left_join(centros, by = "codigo_estacao")
final <- final[with(final, order(intervalo, ID)),]
head(final)
valorSigma_T <- function(sig2, phiT){
matrixT <- matrix(nrow = 36, ncol = 36)
for(i in 1:36){
for(j in 1:36){
matrixT[i,j] <- sig2*exp(-abs(i-j)/phiT)
}
}
return(matrixT)
}
valorSigma_S <- function(phiS){
matrixS <- matrix(nrow = 14, ncol = 14)
for(i in 1:14){
for(j in 1:14){
bases1 <- as.numeric(centros[i,c("Latitude","Longitude")])
bases2 <- as.numeric(centros[j,c("Latitude","Longitude")])
modulo <- sqrt(((bases1[1] - bases2[1])**2)+((bases1[2]-bases2[2])**2))
matrixS[i,j] <- exp(-as.numeric(modulo)/as.numeric(phiS))
}
}
return(matrixS)
}
vec_y <- matrix(final$chuva)
log_veros <- function(teta) {
# teta = mi1, sigma2, phiT, phiS
mi1 <- teta[1]
sigma2 <- teta[2]
phiT <- teta[3]
phiS <- teta[4]
mult <- t((vec_y - mi1))[,!is.na(vec_y)] %*%
kronecker(solve(valorSigma_S(phiS)),solve(valorSigma_T(sigma2,phiT)))[!is.na(vec_y), !is.na(vec_y)] %*%
(vec_y - mi1)[!is.na(vec_y),]
logvero <- (-(14*36)/2)*log(2*pi) -
(36/2)*log(det(valorSigma_S(phiS))) -
(14/2)*log(det(valorSigma_T(sigma2,phiT))) -
(1/2)*mult
return(logvero)
}
cov_ynovo <- function(t_novo, phiS_chapeu, phiT_chapeu, sigma2_chapeu) {
base1 <- c(-22.9329, -47.0738)
a <- c()
for(i in 1:14) {
for(j in 1:36) {
bases2 <- as.numeric(centros[i,c("Latitude","Longitude")])
modulo <- sqrt(((base1[1] - bases2[1])**2)+((base1[2]-bases2[2])**2))
a <- append(a, exp((-modulo/phiS_chapeu) - abs(t_novo-j)/phiT_chapeu))
}
}
a <- a*sigma2_chapeu
a <- matrix(a, nrow = 1)
return(a)
}
esperanca_cond <- function(t_novo, mi_chapeu, sigma2_chapeu, phiT_chapeu, phiS_chapeu) {
mi_chapeu +
matrix(cov_ynovo(t_novo, phiS_chapeu, phiT_chapeu, sigma2_chapeu)[, !is.na(vec_y)], nrow = 1) %*%
kronecker(solve(valorSigma_S(phiS_chapeu)),solve(valorSigma_T(sigma2_chapeu,phiT_chapeu)))[!is.na(vec_y), !is.na(vec_y)] %*%
(vec_y - mi_chapeu)[!is.na(vec_y),]
}
teta <- c(0,1,1,1)
# 40,2000,5,5
alfa <- 0.0001
optim <- optim(teta, fn = log_veros, control = list(fnscale = -1), lower = c(alfa, alfa, alfa, alfa))
optim$par
teta_chapeu <- optim$par
mi_chapeu <- optim$par[1]
sigma2_chapeu <- optim$par[2]
phiT_chapeu <- optim$par[3]
phiS_chapeu <- optim$par[4]
mi_chapeu
sigma2_chapeu
phiT_chapeu
phiS_chapeu
esperanca_cond(1, mi_chapeu, sigma2_chapeu, phiT_chapeu, phiS_chapeu)
resposta_final <- c()
for(i in 1:36) {
resposta_final <- append(resposta_final, esperanca_cond(i, mi_chapeu, sigma2_chapeu, phiT_chapeu, phiS_chapeu))
}
mean(resposta_final)
var(resposta_final)
View(final)
matrix(cov_ynovo(t_novo, phiS_chapeu, phiT_chapeu, sigma2_chapeu)[, !is.na(vec_y)], nrow = 1)
cov_ynovo(1, phiS_chapeu, phiT_chapeu, sigma2_chapeu)
base1 <- c(-22.9329, -47.0738)
a <- c()
for(i in 1:14) {
for(j in 1:36) {
bases2 <- as.numeric(centros[i,c("Latitude","Longitude")])
modulo <- sqrt(((base1[1] - bases2[1])**2)+((base1[2]-bases2[2])**2))
a <- append(a, exp((-modulo/phiS_chapeu) - abs(t_novo-j)/phiT_chapeu))
}
}
t_novo <- 1
for(i in 1:14) {
for(j in 1:36) {
bases2 <- as.numeric(centros[i,c("Latitude","Longitude")])
modulo <- sqrt(((base1[1] - bases2[1])**2)+((base1[2]-bases2[2])**2))
a <- append(a, exp((-modulo/phiS_chapeu) - abs(t_novo-j)/phiT_chapeu))
}
}
exp((-modulo/phiS_chapeu) - abs(t_novo-j)/phiT_chapeu)
sqrt(((base1[1] - bases2[1])**2)+((base1[2]-bases2[2])**2))
bases2 <- as.numeric(centros[36,c("Latitude","Longitude")])
sqrt(((base1[1] - bases2[1])**2)+((base1[2]-bases2[2])**2))
bases2 <- as.numeric(centros[6,c("Latitude","Longitude")])
sqrt(((base1[1] - bases2[1])**2)+((base1[2]-bases2[2])**2))
(-modulo/phiS_chapeu)
abs(t_novo-j)/phiT_chapeu)
abs(t_novo-j)/phiT_chapeu
exp((-modulo/phiS_chapeu) - abs(t_novo-j)/phiT_chapeu)
(-modulo/phiS_chapeu) - abs(t_novo-j)/phiT_chapeu)
(-modulo/phiS_chapeu) - abs(t_novo-j)/phiT_chapeu
exp(-365567.6)
for(i in 1:14) {
for(j in 1:36) {
bases2 <- as.numeric(centros[i,c("Latitude","Longitude")])
modulo <- sqrt(((base1[1] - bases2[1])**2)+((base1[2]-bases2[2])**2))
a <- append(a, exp((-modulo/phiS_chapeu) - abs(t_novo-i)/phiT_chapeu))
}
}
bases1[1]
getwd()
getwd()
getwd()
setwd("/Users/julianadaikawa/Documents/Trabalhos UNICAMP/ME812/")
library(readxl)
q1 <- read_excel("Q1_ Perfil dos Entrevistados.xlsx", sheet = 1)
q2 <- read_excel("Q2_ Nome vulgar da Mata e Sacralidade.xlsx", sheet = 1)
q3 <- read_excel("Q3_ Propriedade e Responsabilidade pela Gestão da Mata.xlsx", sheet = 1)
q3 <- read_excel("Q3_ Propriedade e Responsabilidade pela Gestão da Mata.xlsx", sheet = 1)
library(readxl)
q1 <- read_excel("Q1_ Perfil dos Entrevistados.xlsx", sheet = 1)
q2 <- read_excel("Q2_ Nome vulgar da Mata e Sacralidade.xlsx", sheet = 1)
library(readxl)
q1 <- read_excel("Q1_ Perfil dos Entrevistados.xlsx", sheet = 1)
q2 <- read_excel("Q2_ Nome vulgar da Mata e Sacralidade.xlsx", sheet = 1)
q3 <- read_excel("Q3_ Propriedade e Responsabilidade pela Gestão da Mata.xlsx", sheet = 1)
q4 <- read_excel("Q4_ Estado de conservação e Critérios.xlsx", sheet = 1)
q4_1 <- read_excel("Q4_1 Estado de Conservação_ Risco de desaparacimento.xlsx", sheet = 1)
q5 <- read_excel("Q5_ Serviços Ecossistêmicos.xlsx", sheet = 1)
q5_1 <- read_excel("Q5_1 Serviços Ecossistêmicos _Tendência da Qualidade.xlsx", sheet = 1)
q5_2 <- read_excel("Q5_2 Serviços Ecossistêmicos Potenciais (Animais).xlsx", sheet = 1)
q5_3 <- read_excel("Q5_3 Serviços Ecossistêmicos Potenciais (Plantas).xlsx", sheet = 1)
q6 <- read_excel("Q6_  Conhecimento Sobre as Instituições.xlsx", sheet = 1)
q6_1 <- read_excel("Q6_ 1 Eficiência das Instituições.xlsx", sheet = 1)
q6_2 <- read_excel("Q6_ 2 Sanções.xlsx", sheet = 1)
q3 <- read_excel("Q3_ Propriedade e Responsabilidade pela Gestão da Mata.xlsx", sheet = 1)
head(q1)
head(q2)
head(q3)
head(q4)
head(q4_1)
head(q5)
head(q5_1)
head(q5_2)
head(q5_3)
head(q6)
head(q6_1)
head(q6_2)
unique(q1$Sistema)
names(q3)
union(names(q1), names(q2))
union(names(q1), names(q2), names(q3))
union(names(q1), names(q2))
union(union(names(q1), names(q2)), names(q3))
union(union(union(names(q1), names(q2)), names(q3)), names(q4))
?read_excel
Encoding(q1)
Encoding(q1$`Há (mais ou menos) quanto tempo conhece a mata ?`)
View(q1)
Encoding(q1$`Reconhece Sacralidade?`)
iconv(q1$`Reconhece Sacralidade?`, from = "", to = "UTF-8")
iconv(q1$`Reconhece Sacralidade?`, from = "UTF-8", to = "UTF-8")
iconv(q1$`Reconhece Sacralidade?`, from = "latin1", to = "UTF-8")
iconv(q1$`Reconhece Sacralidade?`, from = "latin2", to = "UTF-8")
iconv(q1$`Reconhece Sacralidade?`, from = "UTF-8", to = "latin1")
?iconv
iconv(q1$`Reconhece Sacralidade?`, from = "UTF-8", to = "ASCII")
`Encoding<-`(q1$`Reconhece Sacralidade?`, "UTF-8")
Encoding(q1$`Reconhece Sacralidade?`)
Encoding(q1$`Reconhece Sacralidade?`) <- "UTF-8"
unique(q1$`Reconhece Sacralidade?`)
Encoding(q1$`Reconhece Sacralidade?`)
a <- Não
a <- "Não"
a
Sys.setlocale(locale = "C")
a
Sys.setlocale(category = "LC_CTYPE", locale = "en_US.UTF-8")
a
q1$`Reconhece Sacralidade?`
q1 <- read_excel("Q1_ Perfil dos Entrevistados.xlsx", sheet = 1)
head(q1)
View(q1)
library(readxl)
q1 <- read_excel("Q1_ Perfil dos Entrevistados.xlsx", sheet = 1)
head(q1)
q2 <- read_excel("Q2_ Nome vulgar da Mata e Sacralidade.xlsx", sheet = 1)
head(q2)
q3 <- read_excel("Q3_ Propriedade e Responsabilidade pela Gestão da Mata.xlsx", sheet = 1)
head(q3)
q4 <- read_excel("Q4_ Estado de conservação e Critérios.xlsx", sheet = 1)
head(q4)
q4_1 <- read_excel("Q4_1 Estado de Conservação_ Risco de desaparacimento.xlsx", sheet = 1)
head(q4_1)
q5 <- read_excel("Q5_ Serviços Ecossistêmicos.xlsx", sheet = 1)
head(q5)
q5_1 <- read_excel("Q5_1 Serviços Ecossistêmicos _Tendência da Qualidade.xlsx", sheet = 1)
head(q5_1)
q5_2 <- read_excel("Q5_2 Serviços Ecossistêmicos Potenciais (Animais).xlsx", sheet = 1)
head(q5_2)
q5_3 <- read_excel("Q5_3 Serviços Ecossistêmicos Potenciais (Plantas).xlsx", sheet = 1)
head(q5_3)
q6 <- read_excel("Q6_  Conhecimento Sobre as Instituições.xlsx", sheet = 1)
head(q6)
q6_1 <- read_excel("Q6_ 1 Eficiência das Instituições.xlsx", sheet = 1)
head(q6_1)
q6_2 <- read_excel("Q6_ 2 Sanções.xlsx", sheet = 1)
head(q6_2)
union(names(q1), names(q2))
tabelas <- c(q1, q2, q3, q4, q4_1, q5, q5_1, q5_2, q5_3, q6, q6_1, q6_2)
union <- union(names(q1), names(q2))
for(i in tabelas) {
union <- union(union, names(i))
}
union
tabelas <- c(q1, q2, q3, q4, q4_1, q5, q5_1, q5_2, q5_3, q6, q6_1, q6_2)
union <- union(names(q1), names(q2))
for(i in tabelas) {
union <- union(union, names(i))
print(union)
}
union
tabelas <- c(q1, q2, q3, q4, q4_1, q5, q5_1, q5_2, q5_3, q6, q6_1, q6_2)
union <- union(names(q1), names(q2))
for(i in tabelas) {
union <- union(union, names(i))
print(name(i))
}
tabelas <- c(q1, q2, q3, q4, q4_1, q5, q5_1, q5_2, q5_3, q6, q6_1, q6_2)
union <- union(names(q1), names(q2))
for(i in tabelas) {
union <- union(union, names(i))
print(names(i))
}
union
tabelas <- c(names(q1), names(q2), q3, q4, q4_1, q5, q5_1, q5_2, q5_3, q6, q6_1, q6_2)
union <- union(names(q1), names(q2))
for(i in tabelas) {
union <- union(union, names(i))
print(i)
}
union
tabelas <- c(names(q1), names(q2), names(q3), names(q4), names(q4_1), names(q5), names(q5_1), names(q5_2), names(q5_3), names(q6), names(q6_1), names(q6_2))
union <- union(names(q1), names(q2))
for(i in tabelas) {
union <- union(union, names(i))
print(i)
}
union
tabelas <- c(names(q1), names(q2), names(q3), names(q4), names(q4_1), names(q5), names(q5_1), names(q5_2), names(q5_3), names(q6), names(q6_1), names(q6_2))
union <- union(names(q1), names(q2))
for(i in tabelas) {
union <- union(union, names(i))
}
union
tabelas <- c(names(q1), names(q2), names(q3), names(q4), names(q4_1), names(q5), names(q5_1), names(q5_2), names(q5_3), names(q6), names(q6_1), names(q6_2))
union <- union(names(q1), names(q2))
for(i in tabelas) {
union <- union(union, i)
}
union
View(q4)
names(q3)
union(names(q3), names(q2))
setdiff(names(q2), names(q1))
setdiff(names(q3),union(names(q2), names(q1)))
View(q1)
q1$Id
sort(q1$Id)
q1$Id == q2$Id
q1$Id == q2$Id == q3$Id
q2$Id == q3$Id
View(q1)
names(q2) == union(names(q2), names(q1))
union(names(q2), names(q3))
library(dplyr)
?left_join
q2 %>% left_join(q3, by = "Id")
q2 %>% left_join(q3, by = "Id", suffix = c("", ""))
left_join(q3, by = "Id", suffix = c("", "y"))
left_join(q3, by = "Id", suffix = c("", ".y"))
left_join(q3, by = "Id", suffix = c("", ""))
q2 %>% left_join(q3, by = "Id", suffix = c("", "y"))
tb1 <- q2 %>% left_join(q3, by = "Id", suffix = c("", "y"))
head(tb1)
union(names(q2), names(q1))
length(union(names(q2), names(q1)))
View(tb1)
tb1 <- q2 %>% left_join(q3, by = "Id", suffix = c("", ".y"))
head(tb1)
names(tb1)
names(tb1)[grepl(".y", names(tb1))]
tb1[,which(names(tb1)[grepl(".y", names(tb1))])]
tb1[,which(names(tb1) == names(tb1)[grepl(".y", names(tb1))])]
which(names(tb1) == names(tb1)[grepl(".y", names(tb1))])
tb1[,which(names(tb1) == names(tb1)[grepl(".y", names(tb1))])]
tb1[,-which(names(tb1) == names(tb1)[grepl(".y", names(tb1))])]
tb1 <- q2 %>% left_join(q3, by = "Id", suffix = c("", ".y"))
tb1 <- tb1[,-which(names(tb1) == names(tb1)[grepl(".y", names(tb1))])]
head(tb1)
View(tb1)
View(tb1)
length(union(names(q2), names(q3)))
rm(q1, q2, q3)
head(tb1)
q1 <- read_excel("Q1_ Perfil dos Entrevistados.xlsx", sheet = 1)
q2 <- read_excel("Q2_ Nome vulgar da Mata e Sacralidade.xlsx", sheet = 1) # engloba totalmente q1
q3 <- read_excel("Q3_ Propriedade e Responsabilidade pela Gestão da Mata.xlsx", sheet = 1)
q2 %>% left_join(q3, by = "Id", suffix = c("", ".y")) %>% left_join(q4, by = "Id", suffix = c("", ".z"))
tb1 <- q2 %>% left_join(q3, by = "Id", suffix = c("", ".y")) %>% left_join(q4, by = "Id", suffix = c("", ".z"))
names(tb1)[grepl(".y", names(tb1))]
names(tb1)[grepl(".", names(tb1))]
names(tb1)[grepl(".REPTIDO", names(tb1))]
tb1 <- q2 %>% left_join(q3, by = "Id", suffix = c("", ".REPETIDOy")) %>% left_join(q4, by = "Id", suffix = c("", ".REPETIDOz"))
names(tb1)[grepl(".REPTIDO", names(tb1))]
names(tb1)
names(tb1)[grepl("REPTIDO", names(tb1))]
grepl("REPTIDO", names(tb1))
grepl("REPETIDO", names(tb1))
names(tb1)[grepl("REPETIDO", names(tb1))]
tb1 <- q2 %>%
left_join(q3, by = "Id", suffix = c("", ".REPETIDOy")) %>%
left_join(q4, by = "Id", suffix = c("", ".REPETIDOz")) %>%
left_join(q4_1, by = "Id", suffix = c("", ".REPETIDOw")) %>%
tb1 <- tb1[,-which(names(tb1) == names(tb1)[grepl("REPETIDO", names(tb1))])]
tb1 <- q2 %>%
left_join(q3, by = "Id", suffix = c("", ".REPETIDOy")) %>%
left_join(q4, by = "Id", suffix = c("", ".REPETIDOz")) %>%
left_join(q4_1, by = "Id", suffix = c("", ".REPETIDOw"))
tb1 <- tb1[,-which(names(tb1) == names(tb1)[grepl("REPETIDO", names(tb1))])]
# rm(q1, q2, q3)
head(tb1)
tb1 <- q2 %>%
left_join(q3, by = "Id", suffix = c("", ".REPETIDOy")) %>%
left_join(q4, by = "Id", suffix = c("", ".REPETIDOz")) %>%
left_join(q4_1, by = "Id", suffix = c("", ".REPETIDOw"))
tb1[,-which(names(tb1) == names(tb1)[grepl("REPETIDO", names(tb1))])]
which(names(tb1) == names(tb1)[grepl("REPETIDO", names(tb1))])
names(tb1)[grepl("REPETIDO", names(tb1))]
which(names(tb1) == names(tb1)[grepl("REPETIDO", names(tb1))])
names(tb1)
names(tb1) == names(tb1)[grepl("REPETIDO", names(tb1))]
grepl("REPETIDO", names(tb1))
tb1[,grepl("REPETIDO", names(tb1))]
tb1[,-grepl("REPETIDO", names(tb1))]
tb1 <- q2 %>%
left_join(q3, by = "Id", suffix = c("", ".REPETIDOy")) %>%
left_join(q4, by = "Id", suffix = c("", ".REPETIDOz")) %>%
left_join(q4_1, by = "Id", suffix = c("", ".REPETIDOw"))
tb1 <- tb1[,-grepl("REPETIDO", names(tb1))]
# rm(q1, q2, q3)
head(tb1)
View(tb1)
tb1 <- q2 %>%
left_join(q3, by = "Id", suffix = c("", ".REPETIDOy")) %>%
left_join(q4, by = "Id", suffix = c("", ".REPETIDOz")) %>%
left_join(q4_1, by = "Id", suffix = c("", ".REPETIDOw"))
names(tb1[,grepl("REPETIDO", names(tb1))])
names(tb1[,-grepl("REPETIDO", names(tb1))])
names(tb1[,!grepl("REPETIDO", names(tb1))])
tb1 <- q2 %>%
left_join(q3, by = "Id", suffix = c("", ".REPETIDOy")) %>%
left_join(q4, by = "Id", suffix = c("", ".REPETIDOz")) %>%
left_join(q4_1, by = "Id", suffix = c("", ".REPETIDOw"))
tb1 <- tb1[,!grepl("REPETIDO", names(tb1))]
# rm(q1, q2, q3)
head(tb1)
View(tb1)
tb1 <- q2 %>%
left_join(q3, by = "Id", suffix = c("", ".REPETIDOy")) %>%
left_join(q4, by = "Id", suffix = c("", ".REPETIDOz")) %>%
left_join(q4_1, by = "Id", suffix = c("", ".REPETIDOw"))
View(tb1)
tb1 <- tb1[,!grepl("REPETIDO", names(tb1))]
head(tb1)
View(tb1)
names(tb1)
tb1 <- q2 %>%
left_join(q3, by = "Id", suffix = c("", ".REPETIDO1")) %>%
left_join(q4, by = "Id", suffix = c("", ".REPETIDO2")) %>%
left_join(q4_1, by = "Id", suffix = c("", ".REPETIDO3")) %>%
left_join(q5, by = "Id", suffix = c("", ".REPETIDO4")) %>%
left_join(q5_1, by = "Id", suffix = c("", ".REPETIDO5")) %>%
left_join(q5_2, by = "Id", suffix = c("", ".REPETIDO6")) %>%
left_join(q5_3, by = "Id", suffix = c("", ".REPETIDO7")) %>%
left_join(q6, by = "Id", suffix = c("", ".REPETIDO8")) %>%
left_join(q6_1, by = "Id", suffix = c("", ".REPETIDO9")) %>%
left_join(q6_2, by = "Id", suffix = c("", ".REPETIDO0"))
tb1 <- tb1[,!grepl("REPETIDO", names(tb1))]
# rm(q1, q2, q3)
head(tb1)
tb1 <- q2 %>%
left_join(q3, by = "Id", suffix = c("", ".REPETIDO1")) %>%
left_join(q4, by = "Id", suffix = c("", ".REPETIDO2")) %>%
left_join(q4_1, by = "Id", suffix = c("", ".REPETIDO3")) %>%
left_join(q5, by = "Id", suffix = c("", ".REPETIDO4")) %>%
left_join(q5_1, by = "Id", suffix = c("", ".REPETIDO5")) %>%
left_join(q5_2, by = "Id", suffix = c("", ".REPETIDO6")) %>%
left_join(q5_3, by = "Id", suffix = c("", ".REPETIDO7")) %>%
left_join(q6, by = "Id", suffix = c("", ".REPETIDO8")) %>%
left_join(q6_1, by = "Id", suffix = c("", ".REPETIDO9")) %>%
left_join(q6_2, by = "Id", suffix = c("", ".REPETIDO0"))
tb1 <- tb1[,!grepl("REPETIDO", names(tb1))]
View(tb1)
tb1[!duplicated(lapply(tb1, summary))]
teste <- tb1[!duplicated(lapply(tb1, summary))]
View(teste)
names(tb1)
View(teste)
teste <- tb1[duplicated(lapply(tb1, summary))]
View(teste)
tb1[duplicated(lapply(tb1, summary))]
teste <- tb1[!duplicated(lapply(tb1, summary))]
duplicated(tb1$`Há (mais ou menos) quanto tempo conhece a mata ?`, tb1$`Há (pelo menos) quanto tempo conhece a mata ?`)
tb1$`Há (mais ou menos) quanto tempo conhece a mata ?` == tb1$`Há (pelo menos) quanto tempo conhece a mata ?`
names(tb1)
tb1[,5] == tb1[,22]
tb1$`Existe quem cuida para a mata continue como é?` == tb1$`Existe quem cuida para que a mata continue como é?`
tb1[tb1$`Existe quem cuida para a mata continue como é?` != tb1$`Existe quem cuida para que a mata continue como é?`,]
teste <- tb1[tb1$`Existe quem cuida para a mata continue como é?` != tb1$`Existe quem cuida para que a mata continue como é?`,]
View(teste)
tb1$`Existe quem cuida para a mata continue como é?` == tb1$`Existe quem cuida para que a mata continue como é?`
names(tb1)
tb1[,11] == tb1[,23]
tb1[,11]
tb1[,23]
tb1 <- tb1[, -c(12, 23)] # repetidos
head(tb1)
rm(teste)
saveRDS(tb1, file = "tabela")
readRDS("tabela")
q1 <- read_excel("Q1_ Perfil dos Entrevistados.xlsx", sheet = 1)
q2 <- read_excel("Q2_ Nome vulgar da Mata e Sacralidade.xlsx", sheet = 1) # engloba totalmente q1
q3 <- read_excel("Q3_ Propriedade e Responsabilidade pela Gestão da Mata.xlsx", sheet = 1)
q4 <- read_excel("Q4_ Estado de conservação e Critérios.xlsx", sheet = 1)
q4_1 <- read_excel("Q4_1 Estado de Conservação_ Risco de desaparacimento.xlsx", sheet = 1)
q5 <- read_excel("Q5_ Serviços Ecossistêmicos.xlsx", sheet = 1)
q5_1 <- read_excel("Q5_1 Serviços Ecossistêmicos _Tendência da Qualidade.xlsx", sheet = 1)
q5_2 <- read_excel("Q5_2 Serviços Ecossistêmicos Potenciais (Animais).xlsx", sheet = 1)
q5_3 <- read_excel("Q5_3 Serviços Ecossistêmicos Potenciais (Plantas).xlsx", sheet = 1)
q6 <- read_excel("Q6_  Conhecimento Sobre as Instituições.xlsx", sheet = 1)
q6_1 <- read_excel("Q6_ 1 Eficiência das Instituições.xlsx", sheet = 1)
q6_2 <- read_excel("Q6_ 2 Sanções.xlsx", sheet = 1)
tb1 <- q2 %>%
left_join(q3, by = "Id", suffix = c("", ".REPETIDO1")) %>%
left_join(q4, by = "Id", suffix = c("", ".REPETIDO2")) %>%
left_join(q4_1, by = "Id", suffix = c("", ".REPETIDO3")) %>%
left_join(q5, by = "Id", suffix = c("", ".REPETIDO4")) %>%
left_join(q5_1, by = "Id", suffix = c("", ".REPETIDO5")) %>%
left_join(q5_2, by = "Id", suffix = c("", ".REPETIDO6")) %>%
left_join(q5_3, by = "Id", suffix = c("", ".REPETIDO7")) %>%
left_join(q6, by = "Id", suffix = c("", ".REPETIDO8")) %>%
left_join(q6_1, by = "Id", suffix = c("", ".REPETIDO9")) %>%
left_join(q6_2, by = "Id", suffix = c("", ".REPETIDO0"))
tb1 <- tb1[,!grepl("REPETIDO", names(tb1))]
tb1 <- tb1[, -c(12, 23)] # repetidos
head(tb1)
saveRDS(tb1, file = "tabela")
rm(q1, q2, q3, q4, q4_1, q5, q5_1, q5_2, q5_3, q6, q6_1, q6_2)
q1 <- read_excel("Q1_ Perfil dos Entrevistados.xlsx", sheet = 1)
q2 <- read_excel("Q2_ Nome vulgar da Mata e Sacralidade.xlsx", sheet = 1) # engloba totalmente q1
q3 <- read_excel("Q3_ Propriedade e Responsabilidade pela Gestão da Mata.xlsx", sheet = 1)
q4 <- read_excel("Q4_ Estado de conservação e Critérios.xlsx", sheet = 1)
q4_1 <- read_excel("Q4_1 Estado de Conservação_ Risco de desaparacimento.xlsx", sheet = 1)
q5 <- read_excel("Q5_ Serviços Ecossistêmicos.xlsx", sheet = 1)
q5_1 <- read_excel("Q5_1 Serviços Ecossistêmicos _Tendência da Qualidade.xlsx", sheet = 1)
q5_2 <- read_excel("Q5_2 Serviços Ecossistêmicos Potenciais (Animais).xlsx", sheet = 1)
q5_3 <- read_excel("Q5_3 Serviços Ecossistêmicos Potenciais (Plantas).xlsx", sheet = 1)
q6 <- read_excel("Q6_  Conhecimento Sobre as Instituições.xlsx", sheet = 1)
q6_1 <- read_excel("Q6_ 1 Eficiência das Instituições.xlsx", sheet = 1)
q6_2 <- read_excel("Q6_ 2 Sanções.xlsx", sheet = 1)
tb <- q2 %>%
left_join(q3, by = "Id", suffix = c("", ".REPETIDO1")) %>%
left_join(q4, by = "Id", suffix = c("", ".REPETIDO2")) %>%
left_join(q4_1, by = "Id", suffix = c("", ".REPETIDO3")) %>%
left_join(q5, by = "Id", suffix = c("", ".REPETIDO4")) %>%
left_join(q5_1, by = "Id", suffix = c("", ".REPETIDO5")) %>%
left_join(q5_2, by = "Id", suffix = c("", ".REPETIDO6")) %>%
left_join(q5_3, by = "Id", suffix = c("", ".REPETIDO7")) %>%
left_join(q6, by = "Id", suffix = c("", ".REPETIDO8")) %>%
left_join(q6_1, by = "Id", suffix = c("", ".REPETIDO9")) %>%
left_join(q6_2, by = "Id", suffix = c("", ".REPETIDO0"))
tb <- tb[,!grepl("REPETIDO", names(tb))]
tb <- tb[, -c(12, 23)] # repetidos
head(tb)
saveRDS(tb, file = "tabela")
rm(q1, q2, q3, q4, q4_1, q5, q5_1, q5_2, q5_3, q6, q6_1, q6_2)
tb <- readRDS("tabela")
View(tb)
